<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	
	<meta name="Author" content="VBird, 鸟哥">
	<meta name="Description" content="使用 CentOS 7.x 来安装您的 Linux 练习机">
	<title>鸟哥的 Linux 私房菜 -- 第三章、安装 CentOS7.x</title>
	<style type="text/css">
	</style>
	<link href="./vbird_files/style_2013.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="tablearea">
<div class="mainarea">
<div class="block1">
<!-- 本文的档头部分 -->
<h1>第三章、安装 CentOS7.x</h1>
<div style="text-align:right">
	<span class="text_history">最近更新日期：2015/05/06</span>
</div>
<!-- 本文的档头部分 -->
<div class="abstract">
	<p>Linux distributions越作越成熟，所以在安装方面也越来越简单！虽然安装非常的简单，
	但是刚刚前一章所谈到的基础认知还是需要了解的，包括MBR/GPT, partition, boot loader, mount, software的选择等等的数据。
	这一章鸟哥的安装定义为『一部练习机』，所以安装的方式都是以最简单的方式来处理的。
	另外，鸟哥选择的是CentOS 7.x的版本来安装的啦！在内文中，只要标题内含有(Option)
	的，代表是鸟哥额外的说明，你应该看看就好，不需要实作喔！^_^</p>
</div>
<!-- 本文的链接区部分 -->
<div class="links">
<ul>
	<li><a href="0157installcentos7.html#design">3.1 本练习机的规划--尤其是分割参数</a></li>
	<li><a href="0157installcentos7.html#centos">3.2 开始安装CentOS 7</a>
	<ul>
		<li><a href="0157installcentos7.html#centos_1">3.2.1 调整开机媒体(BIOS)与虚拟机建置流程</a></li>
		<li><a href="0157installcentos7.html#centos_2">3.2.2 选择安装模式与开机</a>： <a href="0157installcentos7.html#inst.gpt">inst.gpt 参数</a></li>
		<li><a href="0157installcentos7.html#centos_3">3.2.3 在地设置之时区、语系与键盘配置</a></li>
		<li><a href="0157installcentos7.html#centos_4">3.2.4 安装来源设置与软件选择</a></li>
		<li><a href="0157installcentos7.html#centos_5">3.2.5 磁盘分割与文件系统设置</a></li>
		<li><a href="0157installcentos7.html#centos_6">3.2.6 核心管理与网络设置</a></li>
		<li><a href="0157installcentos7.html#centos_7">3.2.7 开始安装、设置 root 密码与添加可切换身份之一般用户</a></li>
		<li><a href="0157installcentos7.html#centos_8">3.2.8 准备使用系统前的授权同意</a></li>
		<li><a href="0157installcentos7.html#centos_9">3.2.9 其他功能：RAM testing, 安装笔记型电脑的核心参数(Option)</a></li>
	</ul></li>
	<li><a href="0157installcentos7.html#multiboot">3.3 多重开机安装流程与管理(Option)</a>
	<ul>
		<li><a href="0157installcentos7.html#multiboot_design">3.3.1 安装 CentOS 7.x + windows 7 的规划</a></li>
		<li><a href="0157installcentos7.html#multiboot_linux">3.3.2 高端安装 CentOS 7.x 与 Windows 7</a></li>
		<li><a href="0157installcentos7.html#multiboot_rescue">3.3.3 救援 MBR 内的开机管理程序与设置多重开机菜单</a></li>
	</ul></li>
	<li><a href="0157installcentos7.html#hint">3.4 重点回顾</a></li>
	<li><a href="0157installcentos7.html#ex">3.5 本章习题</a></li>
	<li><a href="0157installcentos7.html#reference">3.6 参考数据与延伸阅读</a></li>
</li></ul>
</div>
</div>
<!-- 本文的正式部分 -->
<a id="design"></a>
<div class="block1"><div class="gototop"><a href="0157installcentos7.html#top">Top</a></div>
<h2>3.1 本练习机的规划--尤其是分割参数</h2>
	<p>读完<a href="0130designlinux.html">主机规划与磁盘分割章节</a>之后，相信你对于安装 Linux
	之前要作的事情已经有基本的概念了。唔！并没有读第二章...千万不要这样跳着读，赶紧回去念一念第二章，
	了解一下安装前的各种考量对你Linux的学习会比较好啦！</p>
	<p>如果你已经读完第二章了，那么底下就实际针对第二章的介绍来一一规划我们所要安装的练习机了吧！
	请大家注意唷，我们后续的章节与本章的安装都有相关性，所以，请务必要了解到我们这一章的作法喔！</p>
	<ul>
	<li><span class="text_import1">Linux主机的角色定位：</span><br>
		本主机架设的主要目的在于练习Linux的相关技术，所以几乎所有的数据都想要安装进来。
		因此连较耗系统资源的X Window System也必须要包含进来才行。</li>
	<li style="margin-top: 10px"><span class="text_import1">选择的distribution：</span><br>
		由于我们对于Linux的定位为『服务器』的角色，因此选择号称完全兼容于商业版RHEL的社区版本，
		就是CentOS 7.x版啰。请回到<a href="0130designlinux.html#beforeinstall_distro">2.3.1 章</a>去获得下载的信息吧！ ^_^。</li>
	<li style="margin-top: 10px"><span class="text_import1">电脑系统硬件配备：</span><br>
		由于虚拟机越来越流行，因此鸟哥这里使用的是 Linux 原生的 KVM 所搭建出来的虚拟硬件环境。对于 Linux 还不熟的朋友来说，
		建议你使用<a href="0130designlinux.html#hardware_virtual">2.4 章</a>提到的 virtualbox 来进行练习吧！
		至于鸟哥使用的方式可以参考文末的延伸阅读，里面有许多的文档可参考(<a href="0157installcentos7.html#ps1">注1</a>)！
		鸟哥的虚拟机硬件配备如下：
		<ul style="margin-top: 10px">
		<li><span class="text_import2">CPU等级类别</span>：<br>
			透过 Linux 原生的虚拟机管理员的处理，使用本机的 CPU 类型。本机 CPU 为 Intel i7 2600 这颗三、四年前很流行的 CPU 喔！
			至于芯片组则是 KVM 自行设置的喔！</li>
		<li style="margin-top: 10px"><span class="text_import2">内存</span>：<br>
			透过虚拟化技术提供大约 1.2G 左右的内存</li>
		<li style="margin-top: 10px"><span class="text_import2">硬盘</span>：<br>
			使用一颗 40GB 的 VirtI/O 芯片组的磁盘，因此磁盘文件名应该会是 /dev/vda 才对。同时提供一颗 2GB 左右的 IDE 界面的磁盘，
			这颗磁盘仅是作为测试之用，并不安装系统！因此还有一颗 /dev/sda 才对喔！</li>
		<li style="margin-top: 10px"><span class="text_import2">网络卡</span>：<br>
			使用 bridge (桥接) 的方式设置了对外网卡，网卡同样使用 VirtI/O 的芯片，还好 CentOS 本身就有提供驱动程序，
			所以可以直接抓到网络卡喔！</li>
		<li style="margin-top: 10px"><span class="text_import2">显卡(VGA)</span>：<br>
			使用的是在 Linux 环境下运作还算顺畅的 QXL 显卡，给予 60M 左右的显示内存。</li>
		<li style="margin-top: 10px"><span class="text_import2">其他输入/输出设备</span>：<br>
			还有仿真光驱、USB鼠标、USB键盘以及 17 吋屏幕输出等设备喔！</li>
		</ul></li>
	<li style="margin-top: 10px"><span class="text_import1">磁盘分割的配置</span><br>
		在<a href="0130designlinux.html#largehd">第二章</a>里面有谈到 MBR 与 GPT 磁盘分割表配置的问题，在目前的 Linux 环境下，
		如果你的磁盘没有超过 2TB 的话，那么 Linux 缺省是会以 MBR 模式来处理你的分割表的。由于我们仅切出 40GB 的磁盘来玩，
		所以缺省上会以 MBR 来配置！这鸟哥不喜欢！因为就无法练习新的环境了～因此，我们得在安装的时候加上某些参数，
		强迫系统使用 GPT 的分割表来配置我们的磁盘喔！而预计实际分割的情况如下：<br>
<table class="news" style="width:80%; margin-top: 15px;margin-bottom: 15px;">
<tbody><tr style="background-color:lightblue; text-align:center"><td>所需目录/设备</td><td>磁盘容量</td><td>文件系统</td><td>分割格式</td></tr>
<tr><td>BIOS boot</td><td>2MB</td><td>系统自订</td><td>主分割</td></tr>
<tr><td>/boot</td><td>1GB</td><td>xfs</td><td>主分割</td></tr>
<tr><td>/</td><td>10GB</td><td>xfs</td><td>LVM 方式</td></tr>
<tr><td>/home</td><td>5GB</td><td>xfs</td><td>LVM 方式</td></tr>
<tr><td>swap</td><td>1GB</td><td>swap</td><td>LVM 方式</td></tr>
</tbody></table>
		由于使用 GPT 的关系，因此根本无须考量主/延伸/逻辑分割的差异。不过，由于 CentOS 缺省还是会使用 LVM 的方式来管理你的文件系统，
		而且我们后续的章节也会介绍如何管理这东西，因此，我们这次就使用 LVM 管理机制来安装系统看看！</li>
	<li style="margin-top: 10px"><span class="text_import1">开机管理程序(boot loader)：</span><br>
		练习机的开机管理程序使用CentOS 7.x缺省的grub2软件，并且安装到MBR上面。
		也必须要安装到MBR上面才行！因为我们的硬盘是全部用在Linux上面的啊！ ^_^</li>
	<li style="margin-top: 10px"><span class="text_import1">选择软件：</span><br>
		我们预计这部练习机是要作为服务器用的，同时可能会用到图形接口来管理系统，因此使用的是『含有 X 接口的服务器软件』的软件方式来安装喔！
		要注意的是，从 7.x 开始，缺省选择的软件模式会是最小安装！所以千万记得软件安装时，要特别挑选一下才行！</li>
	<li style="margin-top: 10px"><a id="checklist"></a><span class="text_import1">检查表单：</span><br>
		最后，你可以使用底下的表格来检查一下，你要安装的数据与实际的硬件是否吻合喔：<br>
<table class="news" style="width: 95%; margin-top: 15px; margin-bottom: 15px; ">
<tbody><tr style="background-color:lightblue; text-align:center"><td>是与否，或详细信息</td><td>细部项目</td></tr>
<tr><td style="text-align:center">是, DVD版</td><td>01. 是否已下载且刻录所需的Linux distribution？(DVD或CD)</td></tr>
<tr><td style="text-align:center">CentOS 7.1, x64</td><td>02. Linux distribution的版本为何？(如CentOS 7.1 x86_64版本)</td></tr>
<tr><td style="text-align:center">x64</td><td>03. 硬件等级为何(如i386, x86_64, SPARC等等，以及DVD/CD-ROM)</td></tr>
<tr><td style="text-align:center">是, 均为x86_64</td><td>04. 前三项安装媒体/操作系统/硬件需求，是否吻合？</td></tr>
<tr><td style="text-align:center">是</td><td>05. 硬盘数据是否可以全部被删除？</td></tr>
<tr><td style="text-align:center">已确认分割方式</td><td>06. Partition是否做好确认(包括/与swap等容量)</td></tr>
<tr><td style="text-align:center">&nbsp;</td><td>硬盘数量: 1颗40GB硬盘，并使用 GPT 分割表<br>BIOS boot (2MB)<br>
/boot (1GB)<br>/ (10GB)<br>/home (5GB)<br>swap (1GB)</td></tr>
<tr><td style="text-align:center">有，使用 VirtI/O</td><td>07. 是否具有特殊的硬件设备(如SCSI磁盘数组卡等)</td></tr>
<tr><td style="text-align:center">CentOS 已内置</td><td>08. 若有上述特殊硬件，是否已下载驱动程序？</td></tr>
<tr><td style="text-align:center">grub2, MBR</td><td>09. 开机管理程序与安装的位置为何？</td></tr>
<tr><td style="text-align:center">未取得IP参数</td><td>10. 网络信息(IP参数等等)是否已取得？</td></tr>
<tr><td style="text-align:center">&nbsp;</td><td>未取得IP的情况下，可以套用如下的IP参数：<br>
是否使用DHCP：无<br>
IP:192.168.1.100<br>
子遮罩网络：255.255.255.0<br>
主机名称：study.centos.vbird</td></tr>
<tr><td style="text-align:center">Server with X</td><td>11. 所需要的软件有哪些？</td></tr>
</tbody></table>
		如果上面表单确认过都没有问题的话，那么我们就可以开始来安装咱们的CentOS 7.x x86_64版本啰！ ^_^</li>
	</ul>
</div>
<a id="centos"></a>
<div class="block1">
<h2>3.2 开始安装CentOS 7</h2>
	<p>由于本章的内容主要是针对安装一部Linux练习机来设置的，所以安装的分割等过程较为简单。
	如果你已经不是第一次接触Linux，并且想要架设一部要上线的Linux主机，请务必前往<a href="0130designlinux.html">第二章</a>看一下整体规划的想法喔！
	在本章中，你只要依照<a href="0157installcentos7.html#checklist">前一小节的检查表单</a>检查你所需要的安装媒体/硬件/软件信息等等，
	然后就能够安装啦！</p>
	<p>安装的步骤在各主要Linux distributions都差不多，主要的内容大概是：</p>
	<ol>
		<li><a href="0157installcentos7.html#centos_1">调整开机媒体(BIOS)</a>：务必要使用CD或DVD光盘开机，通常需要调整BIOS；</li>
		<li><a href="0157installcentos7.html#centos_2">选择安装模式与开机</a>：包括图形接口/文本接口等，也可加入特殊参数来开机进入安装画面；</li>
		<li><a href="0157installcentos7.html#centos_3">选择语系数据</a>：由于不同地区的键盘按键不同，此时需要调整语系/键盘/鼠标等配备；</li>
		<li><a href="0157installcentos7.html#centos_4">软件选择</a>：需要什么样的软件？全部安装还是缺省安装即可？</li>
		<li><a href="0157installcentos7.html#centos_5">磁盘分割</a>：最重要的项目之一了！记得将刚刚的规划单拿出来设置；</li>
		<li><a href="0157installcentos7.html#centos_6">开机管理程序、网络、时区设置与root密码</a>：一些需要的系统基础设置！</li>
		<li><a href="0157installcentos7.html#post_install">安装后的首次设置</a>：安装完毕后还有一些事项要处理，包括用户、SELinux与防火墙等！</li>
	</ol>
	<p>大概就是这样子吧！好了，底下我们就真的要来安装啰！</p>
	<a id="centos_1"></a>
	<div class="block2"><div class="gototop"><a href="0157installcentos7.html#top">Top</a></div>
	<h2>3.2.1 调整开机媒体(BIOS)与虚拟机建置流程</h2>
		<p>因为鸟哥是使用虚拟机来做这次的练习，因此是在虚拟机管理员的环境下选择『 Boot Options 』来调整开机顺序！
		基本上，就是类似 BIOS 调整让 CD 作为优先开机设备的意思。至于实体机器的处理方面，
		请参考您主板说明书，理论上都有介绍如何调整的问题。</p>
		<p>另外，因为 DVD 实在太慢了，所以，比较聪明的朋友或许会将前一章下载的映像档透过类似 dd 或者是其他刻录软件，
		直接刻录到 USB 随身碟上面，然后在 BIOS 里面调整成为可携式设备优先开机的模式，这样就可以使用速度较快的 USB 开机来安装 Linux 了！
		windows 系统上面或许可以使用类似 UNetbootin 或者是 ISOtoUSB 等软件来处理。如果你已经有 Linux 的经验与系统，那么可以使用底的方式来处理：</p>
<table class="term"><tbody><tr><td class="term"><pre><span class="term_hd"># 假设你的 USB 设备为 /dev/sdc ，而 ISO 文件名为 centos7.iso 的话：</span>
[root@study ~]# <span class="term_command">dd if=centos7.iso of=/dev/sdc</span>
</pre></td></tr></tbody></table>
		<p>上面的过程会跑好长一段时间，时间的长短与你的 USB 速度有关！一般 USB2.0 的写入速度大约不到 10MB 左右，而 USB3.0 可能可以到 50MB 左右～
		因此会等待好几分钟的时间啦！写完之后，这颗 USB 就能够拿来作为开机与安装 Linux 之用了！</p>
		<fieldset class="vbirdface"><legend style="font-family: serif; font-size:12pt; color: darkblue;">Tips</legend><img src="./vbird_files/vbird_face.gif" alt="鸟哥的图标" title="鸟哥的图标" style="float: right;">		一般的主板环境中，使用 USB 2.0 的随身碟设备并没有什么问题，他就是被判定为可携式设备。不过如果是 USB3.0 的设备，那主板可能会将该设备判断成为一颗磁盘！
		所以在 BIOS 的设置中，你可能得要使用磁盘开机，并将这颗 USB 『磁盘』指定为第一优先开机，这样才能够使用这颗 USB 随身碟来安装 Linux 喔！
		</fieldset><br>
		<p>如果你暂时找不到主板说明书，那也没关系！当你的电脑重新开机后，看到屏幕上面会有几个文本告诉你如何进入设置 (Setting) 模式中！
		一般常用的进入按钮大概都是『 Del 』按键，或者是『 F2 』功能键，按下之后就可以看到 BIOS 的画面了！
		大概选择关键字为『 Boot 』的项目，就能够找到开机顺序的项目啰！</p>
		<p>在调整完BIOS内的开机设备的顺序后，理论上你的主机已经可使用可开机光盘来开机了！
		如果发生一些错误消息导致无法以CentOS 7.x DVD来开机，很可能是由于：<span class="text_import2">1)电脑硬件不支持； 2)光驱会挑片； 3)光盘片有问题；</span>
		如果是这样，那么建议你再仔细的确认一下你的硬件是否有超频？或者其他不正常的现象。
		另外，你的光盘来源也需要再次的确认！</p>
		<ul class="toplist">
		<li>在 Linux KVM 上面创建虚拟机的流程</li></ul>
		<p>如果你已经在实体机器上面建置好 CentOS 7 了，然后想要依照我们这个基础篇的内容来实验一下学习的进度，那么可以使用底下的流程来创建与课程相仿的硬盘喔！
		建置流程不会很困难，瞧一瞧即可！</p>
		<p>首先，你得从『应用程序』里面的『系统工具』找到『虚拟机管理员』，点下他就会出现如下的图标：</p>
	<a id="fig3.2.1"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/virtual_01.jpg" alt="启动虚拟机管理员示意图" title="启动虚拟机管理员示意图" style="border: 1px solid black; padding: 10px "></div>
	<div style="text-align: center;">图3.2.1、启动虚拟机管理员示意图</div>
		<p>因为我们是想要创建新的虚拟机，因此你要像上图那样，点击『文件』然后点击『 New Virtual Machine 』，接下来就能够看到如下图的模样来创建新机器！</p>
	<a id="fig3.2.2"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; ">
		<img src="./vbird_files/virtual_02.jpg" alt="选择安装方式" title="选择安装方式" style="border: 1px solid black; padding: 0px; height: 340px; ">
		<img src="./vbird_files/virtual_03.jpg" alt="选择安装光盘文件" title="选择安装光盘文件" style="border: 1px solid black; padding: 0px; height: 340px; "></div>
	<div style="text-align: center;">图3.2.2、选择使用光盘来安装，并实际选择 CentOS 映像档所在</div>
		<p>如上图所示，左图可以让你选择这个新的机器安装的时候，要安装的是哪个来源媒体，包括直接从网络来源安装、从硬盘安装等等。
		我们当然是选择光盘映像档啰！按下一步就会进入选择光盘映像档的文件名～这时请按『浏览』并且选择『文件系统』，再慢慢一个一个选择即可！
		之后就继续下一步吧！</p>
	<a id="fig3.2.3"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; ">
		<img src="./vbird_files/virtual_04.jpg" alt="设置内存与 CPU 数" title="设置内存与 CPU 数" style="border: 1px solid black; padding: 0px; height: 340px; ">
		<img src="./vbird_files/virtual_05.jpg" alt="选择磁盘容量" title="选择磁盘容量" style="border: 1px solid black; padding: 0px; height: 340px; "></div>
	<div style="text-align: center;">图3.2.3、设置内存容量、CPU数量、磁盘容量等重要机器设置</div>
		<p>接下来如上图所示，你可以挑选内存容量、CPU 颗数以及磁盘的容量等等。比较有趣的地方是，你会看到上图右侧鸟哥写了 40G 的容量，
		但可用容量只有 28G 耶～这样有没有关系？当然没关系！现在的虚拟机的磁盘机制，大多使用 qcow2 这个虚拟磁盘格式，这种格式是『用多少纪录多少』喔，
		与你的实际使用量有关。既然我们才刚刚要使用，所以这个虚拟磁盘当然没有数据，既然没有数据需要写入，那就不会占用到实际的磁盘容量了！
		尽量用！没关系！ ^_^</p>
	<a id="fig3.2.4"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/virtual_06.jpg" alt="设置网络桥接等任务" title="设置网络桥接等任务" style="border: 1px solid black; padding: 10px "></div>
	<div style="text-align: center;">图3.2.4、使用桥接的功能设置网络</div>
		<p>在出现的画面中，选择『高端选项』之后，挑选主机设备设置，然后点击桥接功能，如此一来才有办法让你的虚拟机网卡具有直接对外的功能喔！
		同时如果你想要改设置的话，那么可以勾选『在安装前自动组态』的圈圈，之后按完成会出现如下图所示：</p>
	<a id="fig3.2.5"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/virtual_07.jpg" alt="设置完成的示意图" title="设置完成的示意图" style="border: 1px solid black; padding: 10px "></div>
	<div style="text-align: center;">图3.2.5、设置完成的示意图</div>
		<p>从上图 3.2.5 当中，我们可以看到这部机器的相关硬件配备喔！不过，竟然没有发现光驱耶！真怪！那请按下上图中指针指的地方，
		加入一个新硬件！新硬件增加的示意图如下所示：</p>
	<a id="fig3.2.6"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/virtual_08.jpg" alt="添加硬件" title="添加硬件" style="border: 1px solid black; padding: 10px "></div>
	<div style="text-align: center;">图3.2.6、添加硬件示意图</div>
		<p>如上图所示，我们来创建一个 IDE 接口的光盘，并且将光盘映像档加入其中！加入完成之后按下『完成』即可出现如下的最终画面了！</p>
	<a id="fig3.2.7"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/virtual_09.jpg" alt="虚拟机最终建置完成示意图" title="虚拟机最终建置完成示意图" style="border: 1px solid black; padding: 10px "></div>
	<div style="text-align: center;">图3.2.7、虚拟机最终建置完成示意图</div>
		<p>这时你的虚拟机已经跟鸟哥的差不多了！按下『开始安装』就能够取得与鸟哥在下列提供的各样设置啰！</p>
		<fieldset class="vbirdface"><legend style="font-family: serif; font-size:12pt; color: darkblue;">Tips</legend><img src="./vbird_files/vbird_face.gif" alt="鸟哥的图标" title="鸟哥的图标" style="float: right;">		为了方便维护与管理，鸟哥的虚拟机实际上是使用 Gocloud (<a href="http://www.gocloud.com.tw/" target="_blank">http://www.gocloud.com.tw/</a>) 虚拟电脑教室系统所创建的！因此上述的流程与鸟哥实际建置的虚拟机，
		会有一些些的差异～不过差异不大就是了！这里要先跟大家解释一下！
		</fieldset><br>
	</div><br>
	<a id="centos_2"></a>
	<div class="block2"><div class="gototop"><a href="0157installcentos7.html#top">Top</a></div>
	<h2>3.2.2 选择安装模式与开机 - inst.gpt</h2>
		<p>如果一切都顺利没问题的话，那么使用光盘映像档开机后，就会出现如下画面：</p>
	<a id="fig3.2.8"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_01.jpg" alt="光盘开机后安装画面之选择" title="光盘开机后安装画面之选择" style="border: 1px solid black; padding: 10px "></div>
	<div style="text-align: center;">图3.2.8、光盘开机后安装画面之选择</div>
		<p>你有 60 秒的时间可以选择不同的操作模式，从上而下分别是：</p>
		<ol>
		<li>正常安装 CentOS 7 的流程；</li>
		<li>测试此光盘后再进入 CentOS 7 的流程；</li>
		<li>进入调试模式！选择此模式会出现更多的选项，分别是：
			<ul>
			<li>以基本图形接口安装 CentOS 7 (使用标准显卡来设置安装流程图标)；</li>
			<li>救援 CentOS 系统</li>
			<li>运行内存测试 (Run a memory test)</li>
			<li>由本机磁盘正常开机，不由光盘开机</li>
			</ul></li>
		</ol>
		<p>基本上，除非你的硬件系统有问题，包括拥有比较特别的图形显卡等等，否则使用正常的 CentOS 7 流程即可！
		那如果你怀疑这片光盘有问题，就可以选择测试光盘后再进入 CentOS 7 安装的进程。如果你确信此光盘没问题，就不要测试了！
		不过如果你不在乎花费一、两分钟的时间去测试看看光盘片有没有问题，就使用测试后安装的流程啊！不过要进入安装进程前先等等，
		先进行底下的流程再继续。</p>
		<a id="inst.gpt"></a><ul class="toplist">
		<li>加入强制使用 GPT 分割表的安装参数</li></ul>
		<p>如前所述，<span class="text_import2">如果磁盘容量小于 2TB 的话，系统缺省会使用 MBR 模式来安装！</span>鸟哥的虚拟机仅有 40GB 
		的磁盘容量，所以缺省肯定会用 MBR 模式来安装的啊！那如果想要强制使用 GPT 分割表的话，你就得要这样作：</p>
		<ol>
		<li>使用方向键，将图 3.2.8 的光标移动到『 Install CentOS 7 』的项目中</li>
		<li>按下键盘的 [Tab] 按钮，让光标跑到画面最下方等待输入额外的核心参数</li>
		<li>在出现的画面中，输入如下画面的数据 (注意，各个项目要有空格，最后一个是光标本身而非底线)</li>
		</ol>
	<a id="fig3.2.9"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_02.jpg" alt="加入额外的核心参数修改安装进程" title="加入额外的核心参数修改安装进程" style="border: 1px solid black; padding: 10px "></div>
	<div style="text-align: center;">图3.2.9、加入额外的核心参数修改安装进程</div>
		<p><span class="text_import2">其实重点就是输入『 inst.gpt 』这个关键字！</span>输入之后系统会跑过一段侦测的画面，
		这段侦测的流程依据你的光驱速度、硬件复杂度而有不同。反正，就是等待个几秒钟到一、两分钟就是了！画面如下所示：</p>
	<a id="fig3.2.10"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_03.jpg" alt="安装程序的侦测系统过程" title="安装程序的侦测系统过程" style="border: 1px solid black; padding: 10px; width: 600px"></div>
	<div style="text-align: center;">图3.2.10、安装程序的侦测系统过程</div>
		<p>进入安装流程的第一个画面就是选择你熟悉的语系啰！这个选择还挺重要的！因为未来缺省的语系、缺省用户选择的环境等，
		都跟这里有关～当然未来是可以改变的～如下图所示，你可以依据箭头的指示选择我们台湾惯用的繁体中文本！然后就可以按下『继续』来处理喔！</p>
	<a id="fig3.2.11"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_04.jpg" alt="选择安装程序的语系显示" title="选择安装程序的语系显示" style="border: 1px solid black; padding: 10px; width: 650px"></div>
	<div style="text-align: center;">图3.2.11、选择安装程序的语系显示</div>
		<p>在 CentOS 7 的安装流程中，已经将所有的挑选流程以按钮形式通通集中在第一页了！如下图所示，所以你可以在同一个画面中看完所有的设置，
		也可以跳着修改各个设置，不用被制约一项一项处理喔！底下我们就来谈谈每一个项目的设置方式吧！</p>
	<a id="fig3.2.12"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_05.jpg" alt="统一按钮展示的安装画面" title="统一按钮展示的安装画面" style="border: 1px solid black; padding: 10px; width: 650px"></div>
	<div style="text-align: center;">图3.2.12、统一按钮展示的安装画面</div>
	<br></div><br>
	<a id="centos_3"></a>
	<div class="block2"><div class="gototop"><a href="0157installcentos7.html#top">Top</a></div>
	<h2>3.2.3 在地设置之时区、语系与键盘配置</h2>
		<p>按下 <a href="0157installcentos7.html#fig3.2.12">图 3.2.12</a> 画面当中的『在地设置』项目内的『日期时间』后，会出现如下的画面：</p>
	<a id="fig3.2.13"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_06.jpg" alt="时区挑选的项目" title="时区挑选的项目" style="border: 1px solid black; padding: 10px; width: 650px"></div>
	<div style="text-align: center;">图3.2.13、时区挑选的项目示意图</div>
		<p>你可以直接在世界地图上面选择到你想要的时区位置，也可以在画面中『区域、城市』的下拉式菜单选择你的城市即可。
		如果日期与时间不对，可以在画面中箭头指的 2, 3 处分别修改。虽然有网络的时间自订修订功能，不过因为我们的网络尚未设置好，
		所以画面中的箭头 5 无法顺利开启就是了。处理完毕后，按下左上方箭头 4 指的『完成』按钮，即可回到 <a href="0157installcentos7.html#fig3.2.12">图 3.2.12</a> 中。</p>
		<fieldset class="vbirdface"><legend style="font-family: serif; font-size:12pt; color: darkblue;">Tips</legend><img src="./vbird_files/vbird_face.gif" alt="鸟哥的图标" title="鸟哥的图标" style="float: right;">		说实在的，我们这些老人家以前接触的画面，确认钮通常在右下方。第一次接触 CentOS 7 的安装画面时，花了将近一分钟去找确认按钮耶！
		还以为程序出错了！后来才发现在左上方～这...真是欺负老人的设计吗？哈哈哈哈！
		</fieldset><br>
		<p>时区选择之后，接下来请点击 <a href="0157installcentos7.html#fig3.2.12">图 3.2.12</a> 内的『键盘配置』，出现的画面如下：</p>
	<a id="fig3.2.14"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_07.jpg" alt="键盘配置项目" title="键盘配置项目" style="border: 1px solid black; padding: 10px; width: 650px"></div>
	<div style="text-align: center;">图3.2.14、键盘配置项目</div>
		<p>这个很重要喔！因为我们需要输入中文，所以常常打字会在中/英文之间切换。过去我们经常使用的键盘配置是『 Ctrl + 空白 』按钮，或者是『 Ctrl + Shift 』按钮，
		不过这一版的窗口接口，缺省并没有提供任何的切换按钮～所以这里得要预先来设置一下比较妥当。如图中的箭头顺序去调整，
		不过鸟哥一直找不到习惯的『 ctrl + 空白 』的组合，只好用次习惯的『 Ctrl + Shift 』组合了！确认后可以按完成按钮即可。
		不过，如果你想要有其他的输入语系的话，可以选择画面中左下方用圈圈勾起来的地方，按下去就会出现如下画面：</p>
	<a id="fig3.2.15"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_08.jpg" alt="添加其他语系的键盘配置" title="添加其他语系的键盘配置" style="border: 1px solid black; padding: 10px;"></div>
	<div style="text-align: center;">图3.2.15、添加其他语系的键盘配置</div>
		<p>竟然还有三种特殊的台湾语系键盘配置规格耶！好有趣！有需要的朋友可以选择看看！至于『语系支持』的画面则与 <a href="0157installcentos7.html#fig3.2.11">图 3.2.11</a> 相同，
		所以这里就不多说了！</p>
	<br></div><br>
	<a id="centos_4"></a>
	<div class="block2"><div class="gototop"><a href="0157installcentos7.html#top">Top</a></div>
	<h2>3.2.4 安装来源设置与软件选择</h2>
		<p>回到 <a href="0157installcentos7.html#fig3.2.12">图 3.2.12</a> 后，按下『安装来源』按钮之后，你会得到如下的画面：</p>
	<a id="fig3.2.16"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_09.jpg" alt="准备被安装的软件放置在哪里呢" title="准备被安装的软件放置在哪里呢" style="border: 1px solid black; padding: 10px; width: 650px"></div>
	<div style="text-align: center;">图3.2.16、挑选准备要被安装的软件所在的媒体</div>
		<p>因为我们是使用光盘开机，同时还没有设置网络，因此缺省就会选择光盘片 (sr0 所在的设备)。如果你的主机系统当中还有其他安装程序认识的磁盘文件系统，
		那么由于该磁盘也可能会放置映像档啊，所以该映像档也能够提供软件的安装，因此就有如同上图的『ISO 文件』的选择项目。最后，
		如果你的安装程序已经预先设置好网络了，那么就可以选择『在网络上』的项目，并且填写正确的网址 (URL) ，
		那么安装程序就可以直接从网络上面下载安装了！</p>
		<fieldset class="vbirdface"><legend style="font-family: serif; font-size:12pt; color: darkblue;">Tips</legend><img src="./vbird_files/vbird_face.gif" alt="鸟哥的图标" title="鸟哥的图标" style="float: right;">		其实如果局域网路里面你可以自己设置一个安装服务器的话，那么使用网络安装的速度恐怕会比其他方式快速喔！毕竟 giga 网络速度可达到 100Mbytes/s 的读写，
		这个速度 DVD 或 USB 2.0 都远远不及啊！^_^
		</fieldset><br>
		<p>按下完成并回到<a href="0157installcentos7.html#fig3.2.12">图 3.2.12</a> 之后，就得要选择『软件选择』的画面了！如下所示：</p>
	<a id="fig3.2.17"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_10.jpg" alt="选择安装的软件数据为哪些" title="选择安装的软件数据为哪些" style="border: 1px solid black; padding: 10px; width: 650px"></div>
	<div style="text-align: center;">图3.2.17、选择安装的软件数据为哪些</div>
		<p>因为缺省是『最小型安装』的模式，这种模式只安装最简单的功能，很适合高手慢慢搭建自己的环境之用。
		但是我们是初学者啊～没有图形接口来看看实在有点怪！所以建议可以选择如下的项目：</p>
		<ul>
		<li>含有 GUI 的服务器 (GUI就是用户图形接口啰！缺省搭载 GNOME)</li>
		<li>GNOME 桌面环境： Linux 常见的图形接口</li>
		<li>KDE Plasma Workspaces：另一套常见的图形接口</li>
		</ul>
		<p>上面这几个设置拥有图形接口，鸟哥这里主要是以『GUI 服务器』作为介绍喔！选择完毕之后按下完成，
		安装程序会开始检查光盘里面有没有你所挑选的软件存在，而且解决软件相依性的检查 (就是将你所选择的大项目底下的其他支持软件通通加载)，
		之后就会再次的回到 <a href="0157installcentos7.html#fig3.2.12">图 3.2.12</a> 的画面中。</p>
	<br></div><br>
	<a id="centos_5"></a>
	<div class="block2"><div class="gototop"><a href="0157installcentos7.html#top">Top</a></div>
	<h2>3.2.5 磁盘分割与文件系统设置</h2>
		<p>再来就是我们的重头戏，当然就是磁盘分割啦！由 <a href="0157installcentos7.html#fig3.2.12">图 3.2.12</a> 
		当中，点击『系统』项目下的『安装目的地』区块，点击之后会进入如下画面中：</p>
	<a id="fig3.2.18"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_11.jpg" alt="选择要安装 Linux 的硬盘，并选择手动分割模式" title="选择要安装 Linux 的硬盘，并选择手动分割模式" style="border: 1px solid black; padding: 10px; width: 650px"></div>
	<div style="text-align: center;">图3.2.18、选择要安装 Linux 的硬盘，并选择手动分割模式</div>
		<p>由于鸟哥的虚拟机系统共有两颗硬盘，因此安装的时候你得要特别选择正确的硬盘才能够顺利的安装喔！所以如上图 1 号箭头所指，
		点击之后就会出现打勾的符号啰！因为我们要学习分割的方式，不要让系统自动分割，因此请点击 2 号箭头所指处：『我将配置分页』的项目。
		点击完毕后按下『完成』，即可出现如下的磁盘分割画面喔！</p>
	<a id="fig3.2.19"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_12.jpg" alt="删除已经存在系统当中的分区" title="删除已经存在系统当中的分区" style="border: 1px solid black; padding: 10px; width: 650px"></div>
	<div style="text-align: center;">图3.2.19、删除已经存在系统当中的分区</div>
		<p>其实鸟哥故意将硬盘先乱安装一套系统，然后再安装 CentOS7 的，就是为了要在这里展示给各位朋友们瞧一瞧，如何在安装时观察与删除分割啊！
		如上图所示，你会发现到 1 号箭头处有个操作系统名称，点击该名称 (你的系统可能不会有这个项目，也有可能是其他项目！不过，如果是全新硬盘，
		你就可以略过这个部份了)，他就会出现该系统拥有的分区。依序分别点击底下的 /boot, /, swap 三个项目，然后点击 3 号箭头处的减号『 - 』，
		就可以删除掉该分区了！删除的时候会出现如下的警告窗口喔！</p>
	<a id="fig3.2.20"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_13.jpg" alt="删除分区时出现的警告窗口示意图" title="删除分区时出现的警告窗口示意图" style="border: 1px solid black; padding: 10px; width: 650px"></div>
	<div style="text-align: center;">图3.2.20、删除分区时出现的警告窗口示意图</div>
		<p>因为前一个系统鸟哥安装的也是旧版的 CentOS 6.x 的版本，所以 CentOS7 可以自动抓到所有该系统的挂载点～于是就会出现如上所示的图标，
		会特别询问你要不要同时删出其他的分割。我们原本有 3 个分割需要删除，点击上图 1 号箭头然后按下『删除它』，嘿嘿！三个分割全部会被删除干净！
		之后就会回 <a href="0157installcentos7.html#fig3.2.19">图 3.2.19</a> 的画面中了！之后你就可以开始创建文件系统啰！同时请注意，分割的时候请参考本章 3.1 小节的介绍，
		根据该小节的建议去设置好分割喔！底下我们先来制作第一个 GPT 分割表最好要拥有的 BIOS boot 分区，如下所示：</p>
	<a id="fig3.2.21"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_14.jpg" alt="创建 BIOS boot 分区的示意图" title="创建 BIOS boot 分区的示意图" style="border: 1px solid black; padding: 10px; width: 650px"></div>
	<div style="text-align: center;">图3.2.21、创建 BIOS boot 分区的示意图</div>
		<p>先点击 1 号箭头处的菜单，不要使用缺省的 LVM 喔！请点击『标准分割区』的项目，并按下 2 号箭头的『 + 』符号，就会出现中间的弹出式窗口，
		在该窗口中 3 号箭头处，点击下拉式菜单然后选择你在画面中看到的 biosboot 项目
		(不要手动输入画面中的文本，请使用既有的菜单来挑选喔！)，同时输入大约 2M 的容量，按下『添加挂载点』后，
		就会整理出该分区的详细数据，如下图所示：</p>
	<a id="fig3.2.22"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_15.jpg" alt="单一分区分割完成详细项目示意图" title="单一分区分割完成详细项目示意图" style="border: 1px solid black; padding: 10px; width: 650px"></div>
	<div style="text-align: center;">图3.2.22、单一分区分割完成详细项目示意图</div>
		<p>如上图所示，画面的右边就是 biosboot 分区的详细部份！由于是 bios 使用，因此没有挂载点 (你看画面中该字段是空空如也的！)。
		同时文件系统的字段部份也是会变成『BIOS Boot』的关键字！并不会是 Linux 的文件系统啦！接下来，我们要来设置其他的分区了！
		所以如上图所示，请按下『 + 』符号吧！底下的示意图鸟哥就不全图截取，只抓出弹出式窗口的内容来给大家瞧瞧喔！</p>
		<p>另外，图中的『设备类型』其实共有 3 种，我们的练习机实际使用标准分割与 LVM 而已。那三种设备类型的意义分别如下：</p>
		<ul>
		<li style="margin-bottom: 10px;"><span class="text_import2">标准分割区</span>：就是我们一直谈的分区啊！类似 /dev/vda1 之类的分割就是了。</li>
		<li style="margin-bottom: 10px;"><span class="text_import2">LVM</span>：这是一种可以弹性增加/削减文件系统容量的设备设置，我们会在后面的章节持续介绍 LVM 这个有趣的东西！</li>
		<li><span class="text_import2">LVM 紧张供应</span>：这个名词翻译的超奇怪的！其实这个是 LVM 的高端版！与传统 LVM 直接分配固定的容量不同，
		这个『 LVM 紧张供应』的项目，可以让你在使用多少容量才分配磁盘多少容量给你，所以如果 LVM 设备内的数据量较少，那么你的磁盘其实还可以作更多的数据保存！
		而不会被平白无故的占用！这部份我们也在后续谈到 LVM 的时候再来强调！</li>
		</ul>
		<p>另外，图中的文件系统就是实际『格式化』的时候，我们可以格式化成什么文件系统的意思。底下分别谈谈各个文件系统项目 (详细的项目会在后续章节说明)</p>
		<ul>
		<li style="margin-bottom: 10px;"><span class="text_import2">ext2/ext3/ext4</span>：Linux早期适用的文件系统类型。由于ext3/ext4文件系统多了日志的记录，
		对于系统的复原比较快速。不过由于磁盘容量越来越大，ext 家族似乎有点挡不住了～所以除非你有特殊的设置需求，否则近来比较少使用 ext4 项目了！</li>
		<li style="margin-bottom: 10px;"><span class="text_import2">swap</span>：就是磁盘仿真成为内存，由于swap并不会使用到目录树的挂载，所以用swap就不需要指定挂载点喔。</li>
		<li style="margin-bottom: 10px;"><span class="text_import2">BIOS Boot</span>：就是 GPT 分割表可能会使用到的项目，若你使用 MBR 分割，那就不需要这个项目了！</li>
		<li style="margin-bottom: 10px;"><span class="text_import2">xfs</span>：这个是目前 CentOS 缺省的文件系统，最早是由大型服务器所开发出来的！
		他对于大容量的磁盘管理非常好，而且格式化的时候速度相当快，很适合当今动不动就是好几个 TB 的磁盘的环境喔！因此我们主要用这玩意儿！</li>
		<li><span class="text_import2">vfat</span>：同时被Linux与Windows所支持的文件系统类型。如果你的主机硬盘内同时存在Windows与Linux操作系统，为了数据的交换，
		确实可以建置一个vfat的文件系统喔！</li>
		</ul>
	<a id="fig3.2.23"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_16.jpg" alt="创建 /boot 分区的示意图" title="创建 /boot 分区的示意图" style="border: 1px solid black; padding: 10px; width: 650px"></div>
	<div style="text-align: center;">图3.2.23、创建 /boot 分区的示意图</div>
		<p>依据 3.1 小节的建议，接下来是创建 /boot 挂载点的文件系统。容量的部份你可以输入 1G 或者是 1024M 都可以！有简单的单位较佳。
		然后按下添加吧！就会回到类似 <a href="0157installcentos7.html#fig3.2.22">图 3.2.22</a> 的画面喔！接下来依序创建另外所需要的根目录『 / 』的分割吧！</p>
	<a id="fig3.2.24"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_17.jpg" alt="创建根目录 / 的分区" title="创建根目录 / 的分区" style="border: 1px solid black; padding: 10px; "></div>
	<div style="text-align: center;">图3.2.24、创建根目录 / 的分区</div>
		<p>如上图所示，就输入根目录的容量吧！依据 3.1 小节的建议给予 10G 的容量。接下来要注意喔，我们的 /, /home, swap 都希望使用 CentOS 提供的 LVM
		管理方式，因此当你按下上图的『添加挂载点』之后，回到底下的详细设置项目时，得要更改一下相关的项目才行！如下所示：</p>
	<a id="fig3.2.25"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_18.jpg" alt="将设备类型改为 LVM 的管理机制" title="将设备类型改为 LVM 的管理机制" style="border: 1px solid black; padding: 10px; width: 650px; "></div>
	<div style="text-align: center;">图3.2.25、将设备类型改为 LVM 的管理机制</div>
		<p>如上图所示，你得先确认 1 号箭头指的地方为 / 才对，然后点击 2 号箭头处，将他改为『LVM』才好。由于 LVM 缺省会取一个名为 centos 的 LVM 设备，
		因此该项目不用修改！只要按下 3 号箭头处的『 Modify(更改) 』即可。接下来会出现如下的画面，要让你处理 LVM 的相关设置！</p>
	<a id="fig3.2.26"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_19.jpg" alt="修改与设置 LVM 设备的容量" title="修改与设置 LVM 设备的容量" style="border: 1px solid black; padding: 10px; "></div>
	<div style="text-align: center;">图3.2.26、修改与设置 LVM 设备的容量</div>
		<p>再次说明，我们这里是要创建一个让你在未来可以持续练习的练习机环境，因此不建议将分割用完！所以，如上图所示，
		1 号箭头处请选择『固定』容量，然后填入『 30G 』左右的容量，这样我们就还有剩下将近 10G 的容量可以继续未来的章节内容练习。
		其他的就保留默认值，点击『保存』来确定吧！然后回到类似 <a href="0157installcentos7.html#fig3.2.23">图 3.2.23</a> 的画面，继续点击『 + 』来持续添加分割，如下所示：</p>
	<a id="fig3.2.27"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_20.jpg" alt="创建 /home 分区" title="创建 /home 分区" style="border: 1px solid black; padding: 10px; "></div>
	<div style="text-align: center;">图3.2.27、创建 /home 分区</div>
		<p>创建好 /home 分区之后，同样需要调整 LVM 设备才行，因此在你按下上图的『添加挂载点』之后，回到底下的画面来处理处理！</p>
	<a id="fig3.2.28"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_21.jpg" alt="调整 /home 也使用 LVM 设备" title="调整 /home 也使用 LVM 设备" style="border: 1px solid black; padding: 10px; width: 650px; "></div>
	<div style="text-align: center;">图3.2.28、调整 /home 也使用 LVM 设备</div>
		<p>如上图所示，确定 1 号箭头是 /home ，然后选择 2 号箭头成为 LVM，之后确定 4 号箭头还有剩余容量 (也是为了未来要练习之用)，
		之后就可以按下 3 号箭头的变更设置来确认啰！其实要先按 3 号箭头，4 号区块才会顺利显示啦！ ^_^</p>
	<a id="fig3.2.29"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_22.jpg" alt="创建 swap 分区" title="创建 swap 分区" style="border: 1px solid black; padding: 10px; "></div>
	<div style="text-align: center;">图3.2.29、创建 swap 分区</div>
		<p>swap 是当物理内存容量不够用时，可以拿这个部份来存放内存中较少被使用的进程项目。以前都建议 swap 需要内存的 2 倍较佳。
		不过现在的内存都够大了，swap 虽然最好还是保持存在比较好，不过也不需要太大啦！大约 1~2GB 就好了。老实说，如果你的系统竟然会使用到 swap，
		那代表...钱花的不够多！继续扩充内存啦！</p>
		<fieldset class="vbirdface"><legend style="font-family: serif; font-size:12pt; color: darkblue;">Tips</legend><img src="./vbird_files/vbird_face.gif" alt="鸟哥的图标" title="鸟哥的图标" style="float: right;">		swap内存置换空间的功能是：当有数据被存放在物理内存里面，但是这些数据又不是常被CPU所取用时，
		那么这些不常被使用的进程将会被丢到硬盘的swap置换空间当中，
		而将速度较快的物理内存空间释放出来给真正需要的进程使用！
		所以，如果你的系统不很忙，而内存又很大，自然不需要swap啰。
		</fieldset><br>
	<a id="fig3.2.30"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_23.jpg" alt="调整 swap 也使用 LVM 设备" title="调整 swap 也使用 LVM 设备" style="border: 1px solid black; padding: 10px; width: 650px; "></div>
	<div style="text-align: center;">图3.2.30、调整 swap 也使用 LVM 设备</div>
		<p>如上图所示，我们也需要 swap 使用 LVM，请按照箭头依序处理各个项目吧！上述的动作做完之后，我们的分割就准备妥当了！
		接下来，看看你的分割是否与下图类似！需要有 /home, /boot, /, swap 等项目。</p>
	<a id="fig3.2.31"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_24.jpg" alt="完成分割之后的示意图" title="完成分割之后的示意图" style="border: 1px solid black; padding: 10px; "></div>
	<div style="text-align: center;">图3.2.31、完成分割之后的示意图</div>
		<p>如上图所示，仔细看一下左下角的两个方块，可用空间的部份还有剩下大约 9GB 左右，这样才对喔！
		如果一切顺利正常，按下上图左上方的『完成』，系统会出现一个警告窗口，提醒你是否要真的进行这样的分割与格式化的动作，如下图所示：</p>
	<a id="fig3.2.32"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_25.jpg" alt="是否确定分割正确的示意图" title="是否确定分割正确的示意图" style="border: 1px solid black; padding: 10px; "></div>
	<div style="text-align: center;">图3.2.32、是否确定分割正确的示意图</div>
		<p>上图中你可以特别观察一下分割表的类型，可以发现方框圈起来的地方，删除了 MSDOS 而创建了 GPT ！嘿嘿！没错！是我们要的！所以，按下『接受变更』吧！
		之后就会回到 <a href="0157installcentos7.html#fig3.2.12">图 3.2.12</a> 的画面啰！</p>
	<br></div><br>
	<a id="centos_6"></a>
	<div class="block2"><div class="gototop"><a href="0157installcentos7.html#top">Top</a></div>
	<h2>3.2.6 核心管理与网络设置</h2>
		<p>回到 <a href="0157installcentos7.html#fig3.2.12">图 3.2.12</a> 的画面后，点击『系统』下的『KDUMP』项目，这个项目主要在处理，当 Linux 系统因为核心问题导致的当机事件时，
		会将该当机事件的内存内数据保存出来的一项特色！不过，这个特色似乎比较偏向核心开发者在调试之用～如果你有需要的话，也可以启动它！
		若不需要，也能够关闭它，对系统的影响似乎并不太大。所以，如下图所示，点击之后，鸟哥是使用『启用』的默认值，并没有特别取消掉这项目就是了。</p>
	<a id="fig3.2.33"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_26.jpg" alt="KDUMP 的挑选示意图" title="KDUMP 的挑选示意图" style="border: 1px solid black; padding: 10px; "></div>
	<div style="text-align: center;">图3.2.33、KDUMP 的挑选示意图</div>
		<p>再次回到 <a href="0157installcentos7.html#fig3.2.12">图 3.2.12</a> 的画面点击『系统』下的『网络&amp;主机名称』的设置，会出现如下图所示画面：</p>
	<a id="fig3.2.34"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_27.jpg" alt="网络设置示意图" title="网络设置示意图" style="border: 1px solid black; padding: 10px; width: 650px"></div>
	<div style="text-align: center;">图3.2.34、网络设置示意图</div>
		<p>因为鸟哥这边使用的是虚拟机，因此看到的网卡就会是旧式的 eth0 之类的网卡代号。如果是实体网卡，那你可能会看到类似 p1p1, em1 等等比较特殊的网卡代号！
		这是因为新的设计中，它是以网卡安插的插槽来作为网卡名称的由来 (<a href="0157installcentos7.html#ps2">注2</a>)，这部份未来我们在网络再来谈！这里先知道一下即可。</p>
		<p>上图中先选择正确的网卡，然后在 2 号箭头处选择『开』之后，3 号箭头处才能够开始设置！现在请按下『设置』项目，然后参考 3.1 小节的介绍，来给予一组特别的 IP 吧！</p>
	<a id="fig3.2.35"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_28.jpg" alt="设置开机自动启动网络" title="设置开机自动启动网络" style="border: 1px solid black; padding: 10px; "></div>
	<div style="text-align: center;">图3.2.35、设置开机自动启动网络</div>
		<p>现在 CentOS 7 开机后，缺省是没有启动网络的，因此你得要在上图中选择 2 号箭头的『当这个网络可用时自动连接』的项目才行！</p>
	<a id="fig3.2.36"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_29.jpg" alt="手动设置 IP 的示意图" title="手动设置 IP 的示意图" style="border: 1px solid black; padding: 10px; "></div>
	<div style="text-align: center;">图3.2.36、手动设置 IP 的示意图</div>
		<p>如上图所示，选择 IPv4 的项目，然后调整 2 号箭头成为手动，接下来按下 3 号箭头加入项目后，才能够在 4 号箭头输入所需要的 IP 地址与网络遮罩～
		写完之后其他的项目不要更动，就按下 5 号箭头的保存吧！然后回到如同下图的画面：</p>
	<a id="fig3.2.37"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_30.jpg" alt="修改主机名称" title="修改主机名称" style="border: 1px solid black; padding: 10px;width: 650px; "></div>
	<div style="text-align: center;">图3.2.37、修改主机名称</div>
		<p>如上图所示，右边的网络参数部份已经是正确的了，然后在箭头处输入 3.1 小节谈到的主机名称吧！写完就给它『完成』啰！</p>
	<br></div><br>
	<a id="centos_7"></a>
	<div class="block2"><div class="gototop"><a href="0157installcentos7.html#top">Top</a></div>
	<h2>3.2.7 开始安装、设置 root 密码与添加可切换身份之一般用户</h2>
		<p>如果一切顺利的话，那么你应该就可以看到如下的图标，所有的一切都是正常的状态！因此你就可以按下底下图标的箭头部份，
		开始安装的流程啰！</p>
	<a id="fig3.2.38"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_31.jpg" alt="设置完毕并准备开始安装的示意图" title="设置完毕并准备开始安装的示意图" style="border: 1px solid black; padding: 10px; width: 650px;"></div>
	<div style="text-align: center;">图3.2.38、设置完毕并准备开始安装的示意图</div>
		<p>现在的安装画面作的还挺简单的，省略了一堆步骤！上述画面按下开始安装后，这时你就可以一边让系统安装，
		同时去设置其他项目，可以节省时间啦！如下图所示，还有两件重要的事件要处理，一个是 root 密码，一个是一般身份用户的创建！</p>
	<a id="fig3.2.39"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_32.jpg" alt="进行安装进程中，还可以持续其他任务的过程" title="进行安装进程中，还可以持续其他任务的过程" style="border: 1px solid black; padding: 10px; width: 650px; "></div>
	<div style="text-align: center;">图3.2.39、进行安装进程中，还可以持续其他任务的过程</div>
		<p>将上图中，按下 ROOT 密码，可以得到下面的图标来修改系统管理员的密码喔！</p>
	<a id="fig3.2.40"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_33.jpg" alt="设置系统管理员 root 的密码" title="设置系统管理员 root 的密码" style="border: 1px solid black; padding: 10px; "></div>
	<div style="text-align: center;">图3.2.40、设置系统管理员 root 的密码</div>
		<p>基本上，你可以设置任何密码内容！只是，系统会主动帮你判断你的密码设置的好不好。如果不够好，那么画面中就会告诉你，你的密码很虚弱啦！
		你还是可以坚持你的简易密码！只是，就得要按下两次『完成』，安装程序才会真的帮你设置该密码。</p>
		<p>什么是好的密码呢？基本上，密码字符长度设置至少8个字符以上，而且含有特殊符号更好，且不要是个人的可见信息 (如电话号码、身份证、生日等等，就是比较差的密码)。
		例如：I&amp;my_dog之类，有点怪，但是对你又挺好记的密码！就是还 OK 的密码设置喔！</p>
		<fieldset class="vbirdface"><legend style="font-family: serif; font-size:12pt; color: darkblue;">Tips</legend><img src="./vbird_files/vbird_face.gif" alt="鸟哥的图标" title="鸟哥的图标" style="float: right;">		好的习惯还是从头就开始养成比较好。以前鸟哥上课为了简易的操作，所以给学生操作的系统中，选了个 1234 作为密码，要命了！后来鸟哥的专题生，
		实际上线的电脑中，竟然密码还是使用 1234 耶～一上线之后的后果，当然就是被绑架了！还有什么说的？所以，还是一开始就养成好习惯较佳！
		</fieldset><br>
		<p>管理员密码设置妥当后，接下来鸟哥建议你还是得要创建一个日常登录系统的惯用一般帐号较好！为什么呢？
		因为通常远程系统管理流程中，我们都会建议将管理员直接登录的权限拿掉，有需要才用特殊指令 (如 su, sudo 等等，指令后续会谈到！) 切换成管理员身份。
		所以啊，你一定得要创建一个一般帐号才好。鸟哥这里使用自己的名子 dmtsai 来作为一个帐号喔！</p>
	<a id="fig3.2.41"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_34.jpg" alt="创建一个一般帐号" title="创建一个一般帐号" style="border: 1px solid black; padding: 10px; width: 650px; "></div>
	<div style="text-align: center;">图3.2.41、创建一个一般帐号</div>
		<p>这个帐号既然是你要使用的，那么这个帐号应该就是你认可的管理员使用的一般帐号啊！所以<span class="text_import2">你或许会希望这个帐号可以使用自己的密码来切换身份成为 root，
		而不用知道 root 的密码！</span>果真如此的话，那么上头的 2 号箭头处，就得要勾选才好！未来你就可以直接使用 dmtsai 的密码变成 root 哩！
		方便你自己管理～这样即使 root 密码忘记了，你依旧可以切换身份变 root 啊！</p>
	<a id="fig3.2.42"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_35.jpg" alt="安装完毕的示意图" title="安装完毕的示意图" style="border: 1px solid black; padding: 10px;width: 650px;  "></div>
	<div style="text-align: center;">图3.2.42、安装完毕的示意图</div>
		<p>等到安装妥当之后，你应该就会见到如上的图标！上方的箭头比较有趣！仔细看，你会发现有个『将创建管理员 dmtsai 』的项目！
		那就是因为你勾选了『让这位用户成为管理员』的缘故！当然啦！这个帐号的密码也就很重要！不要随便流出去啊！确定一切事情都顺利搞定，
		按下箭头处的『重新开机』吧！准备来使用 CentOS Linux 啰！</p>
	<br></div><br>
	<a id="centos_8"></a>
	<div class="block2"><div class="gototop"><a href="0157installcentos7.html#top">Top</a></div>
	<h2>3.2.8 准备使用系统前的授权同意</h2>
		<p>重新开机完毕后，系统会进入第一次使用的授权同意画面！如下所示：</p>
	<a id="fig3.2.43"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_36.jpg" alt="第一次使用 CentOS 7 图形接口的授权同意过程" title="第一次使用 CentOS 7 图形接口的授权同意过程" style="border: 1px solid black; padding: 10px; width: 650px"></div>
	<div style="text-align: center;">图3.2.43、第一次使用 CentOS 7 图形接口的授权同意过程</div>
		<p>点击上图中的 1 号箭头后，就会出现如下图所示的授权同意书！</p>
	<a id="fig3.2.44"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_37.jpg" alt="授权同意书的签署" title="授权同意书的签署" style="border: 1px solid black; padding: 10px; width: 650px"></div>
	<div style="text-align: center;">图3.2.44、授权同意书的签署</div>
		<p>再次确认后，你就会发现如同下图所示的画面，等待登录了！第一次登录系统的相关数据就请看下一个小节啰！</p>
	<a id="fig3.2.45"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_38.jpg" alt="等待用户登录示意图" title="等待用户登录示意图" style="border: 1px solid black; padding: 10px; width: 650px"></div>
	<div style="text-align: center;">图3.2.45、等待用户登录示意图</div>
		<fieldset class="vbirdface"><legend style="font-family: serif; font-size:12pt; color: darkblue;">Tips</legend><img src="./vbird_files/vbird_face.gif" alt="鸟哥的图标" title="鸟哥的图标" style="float: right;">		先提醒你自己记一下，你刚刚上面所选择的项目，包括 root 的密码等等，通通都会被纪录到 /root/anaconda-ks.cfg 这个文件内喔！
		这个文件可以提醒与协助你未来想要重建一个一模一样的系统时，就可以参考该文件来制作啰！当然，你也可以 google 一下，找 kickstart 
		这个关键字，会得到很多协助喔！ ^_^
		</fieldset><br>	<br></div><br>
	<a id="centos_9"></a>
	<div class="block2"><div class="gototop"><a href="0157installcentos7.html#top">Top</a></div>
	<h2>3.2.9 其他功能：RAM testing, 安装笔记型电脑的核心参数(Option)</h2>
		<p>其实安装光盘还可以进行救援、烧机等任务喔！赶紧来瞧瞧：</p>
		<ul class="toplist">
		<li>内存压力测试：memtest86 (<a href="0157installcentos7.html#ps3">注3</a>)</li></ul>
		<p>CentOS的DVD除了提供一般PC来安装Linux之外，还提供了不少有趣的东西，其中一个就是进行『烧机』的任务！
		这个烧机不是台湾名产烧酒鸡啊，而是当你组装了一部新的个人电脑，想要测试这部主机是否稳定时，
		就在这部主机上面运作一些比较耗系统资源的程序，让系统在高负载的情况下去运作一阵子(可能是一天)，
		去测试稳定度的一种情况，就称为『烧机』啦！</p>
		<p>那要如何进行呢？让我们重新开机并回到<a href="0157installcentos7.html#fig3.2.8">图3.2.8</a> 的画面中，然后依序选择『Troubleshooting』、
		『Run a memory test』的项目，你的画面就会变成如下的模样了：</p>
	<a id="fig3.2.46"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/centos7_39.jpg" alt="memory test 的图标" title="memory test 的图标" style="border: 1px solid black; padding: 10px; width: 650px"></div>
	<div style="text-align: center;">图3.2.46、memory test 的图标</div>
		<p>画面中的右上角数据会一直跑，直到你按下 [esc] 按钮为止，他都会一直去操内存！由于内存是服务器当中一个相当重要的组件，
		他只要不出事，系统总是稳定的多！所以，透过这个方式来操内存，让内存一直保持在忙碌的状态～等待一天过去，你就可以说，恩！
		这部电脑硬件应该还算稳定吧！ ^_^</p>
		<ul class="toplist">
		<li>安装笔记型电脑或其他类PC电脑的参数</li></ul>
		<p>由于笔记型电脑加入了非常多的省电机制或者是其他硬件的管理机制，包括显卡常常是集成型的，
		因此在笔记型电脑上面的硬件常常与一般台式机不怎么相同。所以当你使用适合于一般台式机的DVD来安装Linux时，
		可能常常会出现一些问题，导致无法顺利的安装Linux到你的笔记型电脑中啊！那怎办？</p>
		<p>其实很简单，只要在安装的时候，告诉安装程序的linux核心不要加载一些特殊功能即可。
		最常使用的方法就是，在使用DVD开机时，选择『』然后按下 [tab] 按键后，加入底下这些选项：</p>
<table class="term"><tbody><tr><td class="term"><pre><span class="term_command">nofb apm=off acpi=off pci=noacpi</span>
</pre></td></tr></tbody></table>
		<p>apm(Advanced Power Management)是早期的电源管理模块，acpi(Advanced Configuration and Power 
		Interface)则是近期的电源管理模块。这两者都是硬件本身就有支持的，但是笔记型电脑可能不是使用这些机制，
		因此，当安装时启动这些机制将会造成一些错误，导致无法顺利安装。</p>
		<p>nofb则是取消显卡上面的缓冲内存侦测。因为笔记型电脑的显卡常常是集成型的，
		Linux安装程序本身可能就不是很能够侦测到该显卡模块。此时加入nofb将可能使得你的安装过程顺利一些。</p>
		<p>对于这些在开机的时候所加入的参数，我们称为『核心参数』，这些核心参数是有意义的！
		如果你对这些核心参数有兴趣的话，可以参考文后的参考数据来查找更多信息(<a href="0157installcentos7.html#ps4">注4</a>)。</p>
	<br></div>
</div>
<a id="multiboot"></a>
<div class="block1">
<h2>3.3 多重开机安装流程与管理(Option)</h2>
	<p>有鉴于自由软件的蓬勃发展以及专利软件越来越贵，所以政府单位也慢慢的希望各部门在选购电脑时，
	能够考量同时含有两种以上操作系统的机器了。加上很多朋友其实也常常有需要两种不同操作系统来处理日常生活与工作的事情。
	那我是否需要两部主机来操作不同的操作系统？不需要的，我们可以透过多重开机来选择登录不同的操作系统喔！
	一部机器搞定不同操作系统哩。</p>
	<fieldset class="vbirdface"><legend style="font-family: serif; font-size:12pt; color: darkblue;">Tips</legend><img src="./vbird_files/vbird_face.gif" alt="鸟哥的图标" title="鸟哥的图标" style="float: right;">	你可能会问：『既然虚拟机这么热门，应用面也广，那为啥不能安装 Linux 上面使用 windows 虚拟机？或反过来使用呢？』
	原因无他，因为『虚拟机在图形显示的性能依旧不足』啊！所以，某些时刻你还是得要使用实体机器去安装不同的操作系统啊！
	</fieldset><br>
	<p>不过，就如同鸟哥之前提过的，多重开机系统是有很多风险存在的，而且你也不能随时变动这个多重操作系统的开机磁区，
	这对于初学者想要『很猛烈的』玩Linux是有点妨碍～所以，鸟哥不是很建议新手使用多重开机啦！
	所以，底下仅是提出一个大概，你可以看一看，未来我们谈到后面的章节时，你自然就会有『豁然开朗』的笑容出现了！ ^_^</p>
	<a id="multiboot_design"></a>
	<div class="block2"><div class="gototop"><a href="0157installcentos7.html#top">Top</a></div>
	<h2>3.3.1 安装 CentOS 7.x + windows 7 的规划</h2>
		<p>由于鸟哥身边没有具有 UEFI BIOS 的机器，加上 Linux 对于 UEFI 的支持还有待持续进步，因此，底下鸟哥是使用虚拟机建置 200GB 的磁盘，
		然后使用传统 BIOS 搭配 MBR 分割表来实做多重开机的项目。预计建置 CentOS 7.x 以及一个 Windows 7 的多重操作系统，同时拥有一个共用的数据磁盘。</p>
		<fieldset class="vbirdface"><legend style="font-family: serif; font-size:12pt; color: darkblue;">Tips</legend><img src="./vbird_files/vbird_face.gif" alt="鸟哥的图标" title="鸟哥的图标" style="float: right;">		为什么要用 MBR 而不用本章之前介绍的 GPT 呢？这是因为『Windows 8.1 以前的版本，不能够在非 UEFI 的 BIOS 环境下使用 GPT 分割表的分区来开机』啊！
		我们既然没有 UEFI 的环境，那自然就无法使用 GPT 分割来安装 Windows 系统了。但其实 windows 还是可以使用 GPT，只是『开机的那颗硬盘，必须要在 MBR 的分割磁盘中』。
		例如 C 槽单颗硬盘使用 MBR ，而数据磁盘 D 槽使用 GPT ，那就 OK 没问题！
		</fieldset><br>
		<p>另外，与过去传统安装流程不同，这次鸟哥希望保留 Linux (因为开机管理是由 Linux 管的) 在前面，windows 在后面的分区内，
		因此需要先安装 Linux 后再安装 windows，后来透过修改系统设置档来让系统达成多重开机！基本上鸟哥的分割是这样规划的 (因为不用 GPT，所以无须 BIOS Boot 项目)：</p>
<table class="news" style="width: 98%;">
<tbody><tr style="background-color:lightblue; text-align:center"><td>Linux设备文件名</td><td>Linux载点</td><td>Windows设备</td><td>实际内容</td><td>文件系统</td><td>容量</td></tr>
<tr style="text-align:center"><td>/dev/vda1</td><td>/boot</td><td>-</td><td>Linux 开机信息</td><td>xfs</td><td>2GB</td></tr>
<tr style="text-align:center"><td>/dev/vda2</td><td>/</td><td>-</td><td>Linux 根目录</td><td>xfs</td><td>50GB</td></tr>
<tr style="text-align:center"><td>/dev/vda3</td><td>-</td><td>C</td><td>Windows 系统碟</td><td>NTFS</td><td>100GB</td></tr>
<tr style="text-align:center"><td>/dev/vda5</td><td>/data</td><td>D</td><td>共享数据磁盘</td><td>VFAT</td><td>其他剩余</td></tr>
</tbody></table>
		<p>再次强调，我们得要先安装 Linux 在透过后续维护的方案来处理的喔！而且，为了强制 Windows 要安装在我们要求的分区，
		所以在 Linux 安装时，得要将上述的所有分区先分割出来喔！大概就是这样！来实作吧！</p>
	<br></div><br>
	<a id="multiboot_linux"></a>
	<div class="block2"><div class="gototop"><a href="0157installcentos7.html#top">Top</a></div>
	<h2>3.3.2 高端安装 CentOS 7.x 与 Windows 7</h2>
		<p>请依据本章前面的方式一项一项来进行各项安装行为，比较需要注意的地方就是安装时，不可以加上 inst.gpt 喔！我们单纯使用 MBR 分割啊！</p>
		<p>进行到 <a href="0157installcentos7.html#fig3.2.12">图 3.2.12</a> 的项目时，先不要选择分割，请按下『 [ctrl]+[alt]+[f2] 』来进入安装过程的 shell 环境。
		然后进行如下的动作来预先处理好你的分区！因为鸟哥使用图形化界面的分割模式，老是没有办法调出满意的顺序！
		只好透过如下的手动方式来创建啰！但是你得要了解 parted 这个指令才行！</p>
<table class="term"><tbody><tr><td class="term"><pre>[anaconda root@localhost /]# <span class="term_command">parted /dev/vda mklabel msdos            </span><span class="term_say"># 创建 MBR 分割</span>
[anaconda root@localhost /]# <span class="term_command">parted /dev/vda mkpart primary 1M 2G     </span><span class="term_say"># 创建 /boot</span>
[anaconda root@localhost /]# <span class="term_command">parted /dev/vda mkpart primary 2G 52G    </span><span class="term_say"># 创建 /</span>
[anaconda root@localhost /]# <span class="term_command">parted /dev/vda mkpart primary 52G 152G  </span><span class="term_say"># 创建 C</span>
[anaconda root@localhost /]# <span class="term_command">parted /dev/vda mkpart extended 152G 100%</span><span class="term_say"># 创建延伸分割</span>
[anaconda root@localhost /]# <span class="term_command">parted /dev/vda mkpart logical 152G 100% </span><span class="term_say"># 创建逻辑分割</span>
[anaconda root@localhost /]# <span class="term_command">parted /dev/vda print                    </span><span class="term_say"># 显示分割结果</span>
</pre></td></tr></tbody></table>
<!--[anaconda root@localhost /]# <span class="term_command">parted /dev/vda unit s mkpart primary 2048s 6143s</span><span class="term_say"># 创建 BIOS boot</span>
[anaconda root@localhost /]# <span class="term_command">parted /dev/vda set 1 bios_grub         </span><span class="term_say"># 创建 BIOS boot</span-->
		<p>如果按照上面的处理流程，由于原本是 MBR 的分割，因此经过 mklabel 的工作，将 MBR 强制改为 GPT 后，
		所有的分割就死光光了！因此不用删除就不会有剩余。接下来就是创建五个分区，最终的 print 行为就是列出分割结果，
		结果应该有点像底下这样：</p>
	<a id="fig3.3.1"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/multi_boot_mbr_1.jpg" alt="本范例的分割结果" title="本范例的分割结果" style="border: 1px solid black; padding: 10px "></div>
	<div style="text-align: center;">图3.3.1、本范例的分割结果</div>
		<p>接下来再次按下『 [ctrl]+[alt]+[f6] 』来回到原本的安装流程中，然后一步一步实做到分割区那边，
		然后依据相关的设备文件名来进行『重新格式化』并填入正确的挂载点，最终结果有点像底下这样：</p>
	<a id="fig3.3.2"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/multi_boot_mbr_2.jpg" alt="安装流程的分割情况" title="安装流程的分割情况" style="border: 1px solid black; padding: 10px "></div>
	<div style="text-align: center;">图3.3.2、安装流程的分割情况</div>
		<p>你会看到有个『重新格式化』的项目吧！那个一定要勾选喔！之后就给它持续的安装下去，直到装好为止喔！安装完毕之后，
		你也无须进入到设置的项目，在重新开机后，塞入 windows 7 的原版光盘，之后持续的安装下去！要注意，得要选择那个 100G 容量的分区安装才行！
		最重要的那个安装画面有点像底下这样：</p>
	<a id="fig3.3.3"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/multi_boot_mbr_3.jpg" alt="安装 windows 的分割示意图" title="安装 windows 的分割示意图" style="border: 1px solid black; padding: 10px "></div>
	<div style="text-align: center;">图3.3.3、安装 windows 的分割示意图</div>
		<p>一样，让 windows 自己安装到完毕吧！</p>
	<br></div><br>
	<a id="multiboot_rescue"></a>
	<div class="block2"><div class="gototop"><a href="0157installcentos7.html#top">Top</a></div>
	<h2>3.3.3 救援 MBR 内的开机管理程序与设置多重开机菜单</h2>
		<p>为了应付分割工作，所以我们是先安装 Linux 再安装 Windows 的。只是，如此一来，整颗硬盘的 MBR 部份就会被 windows 的开机管理程序占用了！
		因此，安装好了 Windows 的现在，我们得要开始来救援 MBR，同时编辑一下开机菜单才行！</p>
		<ul class="toplist">
		<li>救援回 Linux 的开机管理程序：</li></ul>
		<p>救援 Linux 开机管理程序也不难，首先，放入原版光盘，重新开机并且进入类似 <a href="0157installcentos7.html#fig3.2.8">图 3.2.8</a> 的画面中，然后依据底下的方式来处理救援模式。
		进入『 Troubleshooting 』，选择『 Rescue a CentOS system 』，等待几秒钟的开机过程，之后系统会出现如下的画面，请选择『 Continue 』喔！</p>
	<a id="fig3.3.4"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/multi_boot_mbr_4.jpg" alt="如何使用找到的 Linux 磁盘系统，建议用 Continue (RW) 模式" title="如何使用找到的 Linux 磁盘系统，建议用 Continue (RW) 模式" style="border: 1px solid black; padding: 10px "></div>
	<div style="text-align: center;">图3.3.4、如何使用找到的 Linux 磁盘系统，建议用 Continue (RW) 模式</div>
		<p>如果真的有找到 Linux 的操作系统，那么就会出现如下的图标，告诉你，你的原本的系统放置于 /mnt/sysimage 当中喔！</p>
	<a id="fig3.3.5"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/multi_boot_mbr_5.jpg" alt="找到了 CentOS 操作系统时，可以进行任务了" title="找到了 CentOS 操作系统时，可以进行任务了" style="border: 1px solid black; padding: 10px "></div>
	<div style="text-align: center;">图3.3.5、找到了 CentOS 操作系统时，可以进行任务了</div>
		<p>接着下来准备要救援 MBR 的开机管理程序啰！处理的方法指令如下：</p>
<table class="term"><tbody><tr><td class="term"><pre>sh-4.2# <span class="term_command">chroot /mnt/sysimage</span>
sh-4.2# <span class="term_command">grub2-install /dev/vda</span>
Installing for i386-pc platform.
Installation finished. No error reported.
sh-4.2# <span class="term_command">exit</span>
sh-4.2# <span class="term_command">reboot</span>
</pre></td></tr></tbody></table>
		<ul class="toplist">
		<li>修改开机菜单任务：</li></ul>
		<p>接下来我们可以修订开机菜单了！不然开机还是仅有 Linux 而已～先以正常流程登录 Linux 系统，切换身份成为 root 之后，开始进行底下的任务：</p>
<table class="term"><tbody><tr><td class="term"><pre>[root@study ~]# <span class="term_command">vim /etc/grub.d/40_custom</span>
#!/bin/sh
exec tail -n +3 $0
# This file provides an easy way to add custom menu entries.  Simply type the
# menu entries you want to add after this comment.  Be careful not to change
# the 'exec tail' line above.
<span class="term_write">menuentry "Windows 7" {
   set root='(hd0,3)'
   chainloader +1</span>
}
[root@study ~]# <span class="term_command">vim /etc/default/grub</span>
GRUB_TIMEOUT=<span class="term_write">30</span>  <span class="term_say"># 将 5 秒改成 30 秒长一些</span>
...
[root@study ~]# <span class="term_command">grub2-mkconfig -o /boot/grub2/grub.cfg</span>
</pre></td></tr></tbody></table>
		<p>接下来就可以测试能否成功了！如果一切顺利的话，理论上就能够看到如下的图标，并且可以顺利的进入 Linux 或 Windows 啰！加油！</p>
	<a id="fig3.3.6"></a>
	<div style="text-align:center; margin: 0 auto 0 auto; "><img src="./vbird_files/multi_boot_mbr_6.jpg" alt="多重开机的开机菜单示意" title="多重开机的开机菜单示意" style="border: 1px solid black; padding: 10px "></div>
	<div style="text-align: center;">图3.3.6、多重开机的开机菜单示意</div>
		<ul class="toplist">
		<li>后续维护的注意事项</li></ul>
		<p>多重开机设置完毕后请特别注意， (1)Windows的环境中最好将Linux的根目录与swap取消挂载，否则未来你打开文件总管时，
		该软件会要求你『格式化！』如果一个不留神，你的Linux系统就毁了。 (2)你的Linux不可以随便的删除！
		因为grub会去读取Linux根目录下的/boot/目录内容，如果你将Linux移除了，你的Windows也就无法开机了！
		因为整个开机菜单都会不见喔！</p>
	<br></div>
</div>
<a id="hint"></a>
<div class="block1">
<h2>3.4 重点回顾</h2>
<ul class="text_import2">
	<li>不论你要安装什么样的Linux操作系统角色，都应该要事先规划例如分割、开机管理程序等；</li>
	<li>建议练习机安装时的磁盘分割能有/, /boot, /home, swap四个分区；</li>
	<li>安装CentOS 7.x的模式至少有两种，分别是图形接口与文本接口；</li>
	<li>CentOS 7 会主动依据你的磁盘容量判断要用 MBR 或 GPT 分割方式，你也可以强迫使用 GPT；</li>
	<li>若安装笔记型电脑时失败，可尝试在开机时加入『linux nofb apm=off acpi=off』来关闭省电功能；</li>
	<li>安装过程进入分割后，请以『自订的分割模式』来处理自己规划的分割方式；</li>
	<li>在安装的过程中，可以创建逻辑卷轴管理员 (LVM)；</li>
	<li>一般要求swap应该要是1.5~2倍的物理内存量，但即使没有swap依旧能够安装与运作Linux操作系统；</li>
	<li>CentOS 7缺省使用 xfs 作为文件系统</li>
	<li>没有连上Internet时，可尝试关闭防火墙，但SELinux最好选择『强制』状态；</li>
	<li>设置时不要选择启动kdump，因为那是给核心开发者查阅当机数据的；</li>
	<li>可加入时间服务器来同步化时间，台湾可选择tock.stdtime.gov.tw这一部；</li>
	<li>尽量使用一般用户来操作Linux，有必要再转身份成为root即可。</li>
	<li>即使是练习机，在建置 root 密码时，建议依旧能够保持良好的密码规则，不要随便设置！</li>
</ul>
</div>
<a id="ex"></a>
<div class="block1">
<h2>3.5 本章习题</h2>
( 要看答案请将鼠标移动到『答：』底下的空白处，按下左键圈选空白处即可察看 )<br>
问答题部分：
<ul>
	<li>Linux的目录配置以『树状目录』来配置，至于磁盘分区(partition)则需要与树状目录相配合！
	请问，在缺省的情况下，在安装的时候系统会要求你一定要分割出来的两个Partition为何？
	<div class="blockex">
		就是根目录『/』与内存置换空间『Swap』
	</div></li>
	<li>缺省使用 MBR 分割方式的情况下，在第二颗 SATA 磁盘中，分割『六个有用』的分区 (具有 filesystem 的)
	，此外，已知有两个 primary 的分割类型！请问六个分区的文件名？
	<div class="blockex">
		/dev/sdb1(primary)<br>
		/dev/sdb2(primary)<br>
		/dev/sdb3(extended)<br>
		/dev/sdb5(logical 底下皆为 logical)<br>
		/dev/sdb6<br>
		/dev/sdb7<br>
		/dev/sdb8<br>
		请注意，5-8 这四个 logical 容量相加的总和为 /dev/sdb3！
	</div></li>
	<li>什么是GMT时间？台北时间差几个钟头？
	<div class="blockex">
		GMT 时间指的是格林威治时间，称为标准的时间，而台北时间较 GMT 快了 8 小时！
	</div></li>
	<li>软件磁盘数组的设备文件名为何？
	<div class="blockex">
		RAID : /dev/md[0-127];<br>
	</div></li>
	<li>如果我的磁盘分割时使用 MBR 方式，且设置了四个 Primary 分区，但是磁盘还有空间，请问我还能不能使用这些空间？
	<div class="blockex">
		不行！因为最多只有四个 Primary 的磁盘分区，没有多的可以进行分割了！且由于没有
		Extended ，所以自然不能再使用 Logical 分割
	</div></li>
</ul>
</div>
<a id="reference"></a>
<div class="block1">
<h2>3.6 参考数据与延伸阅读</h2>
<ul>
	<li><a id="ps1"></a>注1：虚拟机管理员建置一部虚拟机的流程：<br>
		<a href="http://www.cyberciti.biz/faq/kvm-virt-manager-install-centos-linux-guest/" target="_blank">http://www.cyberciti.biz/faq/kvm-virt-manager-install-centos-linux-guest/</a><br>
		<a href="http://www.itzgeek.com/how-tos/linux/centos-how-tos/install-kvm-qemu-on-centos-7-rhel-7.html#axzz3Yf6il9S2" target="_blank">http://www.itzgeek.com/how-tos/linux/centos-how-tos/install-kvm-qemu-on-centos-7-rhel-7.html#axzz3Yf6il9S2</a><br>
		<a href="https://virt-manager.org/screenshots/" target="_blank">https://virt-manager.org/screenshots/</a></li>
	<li><a id="ps2"></a>注2：CentOS 7 网卡的命名规则：<br>
		<a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/sec-Understanding_the_Predictable_Network_Interface_Device_Names.html" target="_blank">https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/sec-Understanding_the_Predictable_Network_Interface_Device_Names.html</a></li>
	<li><a id="ps3"></a>注3：高端内存测试网站：<a href="http://www.memtest.org/" target="_blank">http://www.memtest.org/</a></li>
	<li><a id="ps4"></a>注4：更多的核心参数可以参考如下链接：<br>
		<a href="http://www.faqs.org/docs/Linux-HOWTO/BootPrompt-HOWTO.html" target="_blank">http://www.faqs.org/docs/Linux-HOWTO/BootPrompt-HOWTO.html</a><br>
		对于安装过程所加入的参数有兴趣的，则可以参考底下这篇链接，里面有详细说明硬件原因：<br>
		<a href="http://polishlinux.org/choose/laptop/" target="_blank">http://polishlinux.org/choose/laptop/</a></li>
        <li>安装过程的简易示意图：<br>
		<a href="http://www.tecmint.com/centos-7-installation/" target="_blank">http://www.tecmint.com/centos-7-installation/</a><br>
		<a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Installation_Guide/sect-disk-partitioning-setup-x86.html" target="_blank">https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Installation_Guide/sect-disk-partitioning-setup-x86.html</a></li>
</ul>
</div>
</div>	<!-- mainarea -->
</div>  
</body></html>